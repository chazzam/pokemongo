<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Pokemon Go</title>
	<script type="text/javascript" src="js/general_calculations.js"></script>
</head>
<body>
	<form action="" id="generalform" onsubmit="return false;">
		<fieldset>
			<legend>Calculate candy needed, number of Pokemon to keep, 
			and number of Pokemon left to catch for evolving a Pokemon!
			</legend>
			<p>
			<!---<input type="text" id="currentCandy12" name="currentCandy"
				value="Current Candy" onchange="getTotal()"/>
			--->
			<label class="inlinelabel" for="currentCandy">Current Candy:</label>
			<input type="number" id="currentCandy" name="currentCandy"
				value="0" min="0" step="1" onchange="getTotal()"/><br/>
			<label class="inlinelabel" for="currentPokemon">Pokemon:</label>
			<input type="number" id="currentPokemon" name="currentPokemon"
				value="-1" min="-1" step="1" onchange="getAllTotals()"/><br/>
			<label>If Pokemon is -1, it will estimate the number of pokemon as Candy/3</label>
			<br/>
			<label class="inlinelabel" for="evolveCost">Evolve Cost:</label>
			<select id="evolveCost" name="evolveCost" onchange="getTotal()">
				<option value="12">12</option>
				<option value="25">25</option>
				<option value="50">50</option>
				<option value="100">100</option>
				<option value="400">400</option>
			</select>
			</p>
			<p>
			<label>With Transfers of extra Pokemon:</label><br/>
			<label class="inlinelabel" for="keep">Pokemon to Evolve:</label>
			<label id="keep"></label><br/>
			<label class="inlinelabel" for="transfers">Transfers Remaining to +1:</label>
			<label id="transfers"></label><br/>
			<label class="inlinelabel" for="scratch">Catch from Scratch:</label>
			<label id="scratch"></label><br/>
			<label class="inlinelabel" for="catches">Catches Remaining:</label>
			<label id="catches"></label><br/>
			<label class="inlinelabel" for="catchesAP1">(Catch & Transfer) x to +1:</label>
			<label id="catchesAP1"></label><br/>
			<label class="inlinelabel" for="catchesP1">Catch x & Transfer x-1 to +1:</label>
			<label id="catchesP1"></label><br/>
			</p>
			<p>
			<label>With no Transfers of extra Pokemon:</label><br/>
			<label class="inlinelabel" for="keepNoXfer">Pokemon to Evolve:</label>
			<label id="keepNoXfer"></label>
			<br/>
			<label class="inlinelabel" for="scratchNoXfer">Catch from Scratch:</label>
			<label id="scratchNoXfer"></label>
			</p>
		</fieldset>
	</form>
	<br/>
	<p><table border="1">
		<tr><th></th>
			<th colspan="3">Keeping Evolved</th>
			<th colspan="3">Keeping One Evolved</th>
			<th colspan="3">Transferring all</th></tr>
		<tr><th>Evolve<br/>Cost</th>
			<th>Can<br/>Evolve</th>
			<th>Xfer<br/>to +1</th>
			<th>Catch &amp;<br/>Xfer to +1</th>
			<th>Can<br/>Evolve</th>
			<th>Xfer<br/>to +1</th>
			<th>Catch &amp;<br/>Xfer to +1</th>
			<th>Can<br/>Evolve</th>
			<th>Xfer<br/>to +1</th>
			<th>Catch &amp;<br/>Xfer to +1</th>
		</tr>
		<tr>
			<td>12</td>
			<td id="ev12-AE"></td>
			<td id="ev12-AT"></td>
			<td id="ev12-AC"></td>
			<td id="ev12-1E"></td>
			<td id="ev12-1T"></td>
			<td id="ev12-1C"></td>
			<td id="ev12-0E"></td>
			<td id="ev12-0T"></td>
			<td id="ev12-0C"></td>
		</tr>
		<tr>
			<td>25</td>
			<td id="ev25-AE"></td>
			<td id="ev25-AT"></td>
			<td id="ev25-AC"></td>
			<td id="ev25-1E"></td>
			<td id="ev25-1T"></td>
			<td id="ev25-1C"></td>
			<td id="ev25-0E"></td>
			<td id="ev25-0T"></td>
			<td id="ev25-0C"></td>
		</tr>
		<tr>
			<td>50</td>
			<td id="ev50-AE"></td>
			<td id="ev50-AT"></td>
			<td id="ev50-AC"></td>
			<td id="ev50-1E"></td>
			<td id="ev50-1T"></td>
			<td id="ev50-1C"></td>
			<td id="ev50-0E"></td>
			<td id="ev50-0T"></td>
			<td id="ev50-0C"></td>
		</tr>
		<tr>
			<td>100</td>
			<td id="ev100-AE"></td>
			<td id="ev100-AT"></td>
			<td id="ev100-AC"></td>
			<td id="ev100-1E"></td>
			<td id="ev100-1T"></td>
			<td id="ev100-1C"></td>
			<td id="ev100-0E"></td>
			<td id="ev100-0T"></td>
			<td id="ev100-0C"></td>
		</tr>
		<tr>
			<td>400</td>
			<td id="ev400-AE"></td>
			<td id="ev400-AT"></td>
			<td id="ev400-AC"></td>
			<td id="ev400-1E"></td>
			<td id="ev400-1T"></td>
			<td id="ev400-1C"></td>
			<td id="ev400-0E"></td>
			<td id="ev400-0T"></td>
			<td id="ev400-0C"></td>
		</tr>
	</table></p>
	<p>You may need to start evolving with your weakest Pokemon and then
	transfer them to evolve the last kept "Pokemon to Evolve" in certain
	edge cases.<br/>
	I'd recommend going ahead and transferring all the Pokemon above the 
	"Pokemon to Evolve" value before using the "Lucky Egg" and beginning
	the Evolution spree, for a cleaner work space.
	</p>
	<p>From nothing, Candy and Catch values:<br/>
	<table border="1" id="staticListOnes"></table><br/>
	<table border="1" id="staticListTeens"></table><br/>
	<table border="1" id="staticListTens"></table><br/>
	<table border="1" id="staticListSixties"></table><br/>
	<script>
		candyCatchTable([1,2,3,4,5,6,7,8,9,10],"staticListOnes");
		candyCatchTable([11,12,13,14,15,16,17,18,19],"staticListTeens");
		candyCatchTable([20,25,30,35,40,45,50,55,60],"staticListTens");
		candyCatchTable([61,62,63,64,65,66,67,68,69],"staticListSixties");
	</script>
	This does not include an offset for Candy received from hatching 
	Pokemon out of eggs, as that is pretty much random to the best of my 
	knowledge.<br/>
	This shows that if you want to evolve 64 Pidgey's (Evolution Cost = 12), 
	then you will catch a total of 193 Pidgey family Pokemon (Pidgey, 
	Pidgeotto, Pidgeot), transferring all but the 64 to evolve, and you 
	will have 705 Candy when you begin evolving.
	</p>
	<br/><br/>
	<p>
	Formula Explanation:<br/><br/>
	Terms used:<br/>
	Candy - Current Candy<br/>
	Cost - Evolution Cost<br/>
	Per - Candy per Catch = 3<br/>
	</p>
	<p>
	Formulas:<br/>
	Catches needed for an evolution:<br/>Cost/Per<br/><br/>
	Catches needed for an evolution, with Transfers:<br/>(Cost + 1) / (Per + 1)<br/><br/>
	Catches remaining for an evolution, with Transfers:<br/>(Cost - Candy + 1) / (Per + 1)<br/><br/>
	Pokemon to Keep/Evolve:<br/>(Candy/Cost + Candy - 1) / Cost<br/><br/>
	Pokemon to Keep/Evolve, with Transfers:<br/>(Candy/Cost * 2 + Candy - 1) / Cost<br/>
	</p>
	<br/><br/>
	<p>
		Main Formula: Convert everything into terms of Candy, ignoring eggs.<br/>
		N*C = A + (N - 1)*E + (x - N - L)*t + (N - M)*t + x*c<br/><br/>
		N = Pokemon to Evolve<br/>
		C = Evolution Cost<br/>
		A = Current Candy<br/>
		x = Pokemon Caught<br/>
		E = Candy received for Evolving<br/>
		t = Candy received for Transferring<br/>
		c = Candy received for Catching<br/>
		L = Pokemon not transferred<br/>
		M = Pokemon, Evolved but not transferred<br/>
		<a href="https://www.wolframalpha.com/input/?i=solve+N*C%3DA%2B(N-1)*E%2B(x-N-L)t%2B(N-M)t%2Bx*c+for+x">
		Wolfram Alpha</a><br/>
		
		
	</p>
</body>
</html>

